<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>JWT vs JWS vs JWE - Even - A super concise theme for Hugo</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="bluven" />
  <meta name="description" content="JWT (JSON Web Tokens) is a compact, URL safe artifacts for passing the claims between client and the server. Unlike cookies that make sense in only in the web application context, JWT can be easily used both in web applications and RESTful APIs. They make sense for browser clients as well as command line or thick clients. However, there seems to be bit of confusion between JWT and other two" />

  <meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.32.4" />


<link rel="canonical" href="http://localhost:1313/post/jwt-jws-jwe/" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" href="/favicon.ico" />
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">







<link href="/dist/even.min.css?v=2.7.2" rel="stylesheet">
<link href="/lib/fancybox/jquery.fancybox-3.1.20.min.css" rel="stylesheet">

<meta property="og:title" content="JWT vs JWS vs JWE" />
<meta property="og:description" content="JWT (JSON Web Tokens) is a compact, URL safe artifacts for passing the claims between client and the server. Unlike cookies that make sense in only in the web application context, JWT can be easily used both in web applications and RESTful APIs. They make sense for browser clients as well as command line or thick clients. However, there seems to be bit of confusion between JWT and other two" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/jwt-jws-jwe/" />



<meta property="article:published_time" content="2018-01-15T22:34:05&#43;08:00"/>

<meta property="article:modified_time" content="2018-01-15T22:34:05&#43;08:00"/>











<meta itemprop="name" content="JWT vs JWS vs JWE">
<meta itemprop="description" content="JWT (JSON Web Tokens) is a compact, URL safe artifacts for passing the claims between client and the server. Unlike cookies that make sense in only in the web application context, JWT can be easily used both in web applications and RESTful APIs. They make sense for browser clients as well as command line or thick clients. However, there seems to be bit of confusion between JWT and other two">


<meta itemprop="datePublished" content="2018-01-15T22:34:05&#43;08:00" />
<meta itemprop="dateModified" content="2018-01-15T22:34:05&#43;08:00" />
<meta itemprop="wordCount" content="833">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="JWT vs JWS vs JWE"/>
<meta name="twitter:description" content="JWT (JSON Web Tokens) is a compact, URL safe artifacts for passing the claims between client and the server. Unlike cookies that make sense in only in the web application context, JWT can be easily used both in web applications and RESTful APIs. They make sense for browser clients as well as command line or thick clients. However, there seems to be bit of confusion between JWT and other two"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">Bluven&#39;s Attic</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/notes/">
        <li class="mobile-menu-item">Notes</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">Bluven&#39;s Attic</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/notes/">Notes</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">JWT vs JWS vs JWE</h1>

      <div class="post-meta">
        <span class="post-time"> 2018-01-15 </span>
        
        
        
      </div>
    </header>

    
    

    
    <div class="post-content">
      

<p>JWT (JSON Web Tokens) is a compact, URL safe artifacts for passing the claims between client and the server. Unlike cookies that make sense in only in the web application context, JWT can be easily used both in web applications and RESTful APIs. They make sense for browser clients as well as command line or thick clients.</p>

<p>However, there seems to be bit of confusion between JWT and other two related standards - JWS (JSON Web Signature) and JWE (JSON Web Encryption). JWT vs JWS vs JWE - is a common confusion among the developers. This article tries to explain away the differences and explain when to use which.</p>

<h2 id="jwt">JWT</h2>

<blockquote>
<p>JWTs represent a set of claims as a JSON object that is encoded in a JWS and/or JWE structure.</p>

<p>Source: RFC 7519 <a href="https://tools.ietf.org/html/rfc7519">https://tools.ietf.org/html/rfc7519</a></p>
</blockquote>

<p>In other words, a <strong>JWT</strong> claims (i.e., claims represented in JSON format) could be sent either as JWS structure or JWE structure (or both; more on that later) depending on what you are trying to achieve. So, when you are sending JWT to someone, it is essentially either a JWS payload or a JWE payload. JWS payload is more popular for reasons that will become obvious soon.</p>

<p>So what are claims? They are simple assertions about the user. As an example, for a user authenticated to payroll system, the claims could be as follows:</p>

<pre><code>{    
	&quot;userId&quot;: &quot;johndoe&quot;,    
	&quot;role&quot;: &quot;employee&quot;,    
	&quot;pay-frequency&quot;: &quot;biweekly&quot;
}
</code></pre>

<p>Now embedding this inside a JWS, the entire string would look like this:</p>

<pre><code>{    
    &quot;alg&quot;:&quot;HS256&quot;
} // End of JOSE Header
. 
{
    &quot;userId&quot;: &quot;johndoe&quot;,
    &quot;role&quot;: &quot;employee&quot;,
    &quot;pay-frequency&quot;: &quot;biweekly&quot;
} // End of JWT Claims
.
{

} // End of Signature in case of JWS
</code></pre>

<h2 id="jws">JWS</h2>

<p>As the name suggests, JWS scheme digitally signs the content. The content to be carried here are JWT claims. The server signs the JWT and sends it to the client, say after successful user authentication. The server expects the client to send this JWS back to the server as part of the next request.</p>

<p>What if the client we&rsquo;re dealing with is rogue? That&rsquo;s where the signature comes in. Signature brings Integrity (remember the Confidentiality, Integrity, Availability triad?) and Authentication  into the equation. In other words, server can be sure that the JWT claims inside the JWS it just received were not tampered with either by the rogue client or by a man-in-the-middle.</p>

<p>Server achieves this by validating the signature of the message to ensure that the claims were not tampered with by the client. If the server detects any kind of tampering, it can take appropriate action (deny the request or block the client etc.).</p>

<p>The client can also validate the signature. To do so, the client either needs server&rsquo;s secret (if the JWT signature is HMAC) or needs server&rsquo;s public key (if the JWT was digitally signed).</p>

<blockquote>
<p><em>Note: With JWS, the payload (claims portion) is not encrypted. So, don&rsquo;t send anything sensitive.</em></p>

<p><em>注：JWS保证了数据的完整性，但不保证数据的保密性</em></p>
</blockquote>

<h2 id="jwe">JWE</h2>

<p>The JWE scheme encrypts the content instead of signing it. The content being encrypted here are JWT claims. JWE, thus brings Confidentiality. The JWE can be signed and enclosed in a JWS. Now, you get both encryption and signature (thus getting Confidentiality, Integrity, Authentication).</p>

<h2 id="how-to-tell-if-you-have-a-jws-or-jwe">How to tell if you have a JWS or JWE?</h2>

<p>Let&rsquo;s say you are the client and you receive a JWT. Now, how do you tell if it is a JWS or a JWE? From Section 9 of JWE RFC (<a href="https://www.rfc-editor.org/rfc/rfc7516.txt">https://www.rfc-editor.org/rfc/rfc7516.txt</a>) :</p>

<ul>
<li><blockquote>
<p>If the object is using the JWS Compact Serialization or the JWE Compact Serialization, the number of base64url-encoded segments separated by period (&lsquo;.&rsquo;) characters differs for JWSs and JWEs. JWSs have three segments separated by two period (&lsquo;.&rsquo;) characters. JWEs have five segments separated by four period (&lsquo;.&rsquo;) characters.</p>
</blockquote></li>

<li><blockquote>
<p>If the object is using the JWS JSON Serialization or the JWE JSON       Serialization, the members used will be different.  JWSs have a &ldquo;payload&rdquo; member and JWEs do not.  JWEs have a &ldquo;ciphertext&rdquo; member and JWSs do not.</p>
</blockquote></li>

<li><blockquote>
<p>The JOSE Header for a JWS can be distinguished from the JOSE Header for a JWE by examining the &ldquo;alg&rdquo; (algorithm) Header Parameter value. If the value represents a digital signature or MAC algorithm, or is the value &ldquo;none&rdquo;, it is for a JWS; if it represents a Key Encryption, Key Wrapping, Direct Key Agreement, Key Agreement with Key Wrapping, or Direct Encryption algorithm, it is for a JWE. (Extracting the &ldquo;alg&rdquo; value to examine is straightforward when using the JWS Compact Serialization or the JWE Compact Serialization and may be more difficult when using the JWS JSON Serialization or the JWE JSON Serialization.)</p>
</blockquote></li>

<li><blockquote>
<p>The JOSE Header for a JWS can also be distinguished from the JOSE Header for a JWE by determining whether an &ldquo;enc&rdquo; (encryption algorithm) member exists. If the &ldquo;enc&rdquo; member exists, it is a JWE; otherwise, it is a JWS.</p>
</blockquote></li>
</ul>

<p><em>原文： <a href="https://securedb.co/community/jwt-vs-jws-vs-jwe/">https://securedb.co/community/jwt-vs-jws-vs-jwe/</a></em></p>

    </div>

    
    
<div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">文章作者</span>
    <span class="item-content">bluven</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">上次更新</span>
    <span class="item-content">2018-01-15</span>
  </p>
  
  <p class="copyright-item">
    <span class="item-title">许可协议</span>
    <span class="item-content"><a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank">CC BY-NC-ND 4.0</a></span>
  </p>
</div>

    
    

    <footer class="post-footer">
      

      
      <nav class="post-nav">
        
          <a class="prev" href="/post/sicp-three-elements-of-languages/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">SICP 语言的三要素</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        
          <a class="next" href="/post/terms-for-jwt/">
            <span class="next-text nav-default">关于JWT的一些概念</span>
            <span class="prev-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        
  

  

  
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:yanshiyi1983@163.com" class="iconfont icon-email" title="email"></a>
      <a href="http://github.com/bluven" class="iconfont icon-github" title="github"></a>
      <a href="https://www.douban.com/people/blabber2008/" class="iconfont icon-douban" title="douban"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    
      2017 - 
    2018
    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">bluven</span>
  </span>
</div>
    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
<script src="/lib/highlight/highlight.pack.js?v=20171001"></script>
<script type="text/javascript" src="/lib/jquery/jquery-3.2.1.min.js"></script>
  <script type="text/javascript" src="/lib/slideout/slideout-1.0.1.min.js"></script>
  <script type="text/javascript" src="/lib/fancybox/jquery.fancybox-3.1.20.min.js"></script>
<script type="text/javascript" src="/dist/even.min.js?v=2.7.2"></script>




</body>
</html>
